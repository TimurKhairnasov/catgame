[gd_scene load_steps=26 format=3 uid="uid://c0h1gaqipgpog"]

[ext_resource type="Texture2D" uid="uid://bn4dly7fi7rsf" path="res://assets/locationCity/Green Portal Sprite Sheet.png" id="1_r5st6"]
[ext_resource type="Script" path="res://levels/end_level_fiction.gd" id="2_jdck0"]
[ext_resource type="Texture2D" uid="uid://cke6wv1nbxoqg" path="res://assets/lights/Light Effects Png  (2).png" id="3_o6pfk"]
[ext_resource type="AudioStream" uid="uid://c41iywt5qloss" path="res://assets/sounds/effects/swoosh.mp3" id="4_4hral"]

[sub_resource type="AtlasTexture" id="AtlasTexture_jhx3n"]
atlas = ExtResource("1_r5st6")
region = Rect2(0, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5x7lo"]
atlas = ExtResource("1_r5st6")
region = Rect2(64, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5byq2"]
atlas = ExtResource("1_r5st6")
region = Rect2(128, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7008b"]
atlas = ExtResource("1_r5st6")
region = Rect2(192, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_r43b5"]
atlas = ExtResource("1_r5st6")
region = Rect2(256, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ywu8e"]
atlas = ExtResource("1_r5st6")
region = Rect2(320, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gim11"]
atlas = ExtResource("1_r5st6")
region = Rect2(384, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dd55x"]
atlas = ExtResource("1_r5st6")
region = Rect2(448, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_sysbd"]
atlas = ExtResource("1_r5st6")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_kqxcu"]
atlas = ExtResource("1_r5st6")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_g74o3"]
atlas = ExtResource("1_r5st6")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_10ayc"]
atlas = ExtResource("1_r5st6")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_v1ox1"]
atlas = ExtResource("1_r5st6")
region = Rect2(320, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_43k1l"]
atlas = ExtResource("1_r5st6")
region = Rect2(384, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_i6tip"]
atlas = ExtResource("1_r5st6")
region = Rect2(448, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dxxoy"]
atlas = ExtResource("1_r5st6")
region = Rect2(256, 0, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_niojr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jhx3n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5x7lo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5byq2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7008b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r43b5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ywu8e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gim11")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dd55x")
}],
"loop": false,
"name": &"close",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_sysbd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kqxcu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g74o3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_10ayc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v1ox1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_43k1l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i6tip")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dxxoy")
}],
"loop": true,
"name": &"idle",
"speed": 10.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_b5va3"]
radius = 59.4146

[sub_resource type="Animation" id="Animation_d1sr2"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Light:color:r")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.45098, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Light:color:g")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Light:color:b")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.301961, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Light:color:a")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_i8lrb"]
resource_name = "light_close"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Light:color:r")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0.45098, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Light:color:g")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Light:color:b")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0.301961, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Light:color:a")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_nuhmv"]
_data = {
"RESET": SubResource("Animation_d1sr2"),
"light_close": SubResource("Animation_i8lrb")
}

[node name="EndLevel" type="AnimatedSprite2D"]
position = Vector2(-5.38267, -0.0527687)
rotation = -1.5708
sprite_frames = SubResource("SpriteFrames_niojr")
animation = &"close"
autoplay = "idle"
script = ExtResource("2_jdck0")

[node name="DetectionArea" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="DetectionArea"]
position = Vector2(0.50988, 1.91206)
shape = SubResource("CircleShape2D_b5va3")

[node name="Light" type="PointLight2D" parent="."]
position = Vector2(34.9247, 5.38659)
rotation = -1.5708
color = Color(0.45098, 1, 0.301961, 1)
energy = 3.0
texture = ExtResource("3_o6pfk")
texture_scale = 0.15

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_nuhmv")
}

[node name="Swoosh" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("4_4hral")

[connection signal="body_entered" from="DetectionArea" to="." method="_on_close"]
